window.__require=function t(e,o,n){function r(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({NewScript:[function(t,e,o){"use strict";cc._RF.push(e,"95a6epmwV9O9pL2ZOLCQxjt","NewScript");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),e=r([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],dbCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"cfd8db7yJVKn7sfZ4tHSQJ2","dbCtrl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MainCamera=null,e.enemy_ske=null,e.ANI_GROUP="att",e.ATTANILIST=["att_1","att_2","att_3","att_4"],e.SKINLIST=["p_fist","p_sword"],e.attCount=0,e.dir=1,e._speed=0,e.attackEnemyNumbr=0,e}return n(e,t),e.prototype.start=function(){this.dbDisplay=this.node.getComponent(dragonBones.ArmatureDisplay),this.dbArmature=this.dbDisplay.armature(),this.dbDisplay.on(dragonBones.EventObject.COMPLETE,this.aniComplete,this),this.dbDisplay.on(dragonBones.EventObject.FRAME_EVENT,this.frameEvent,this);this.cameraBoundary=4300-cc.winSize.width/2},e.prototype.update=function(t){0!=this._speed&&this.move()},e.prototype.move=function(){this.att_2(),this.dbArmature.animation.fadeIn("move",-1,-1,0,this.ANI_GROUP),this.node.scaleX=this.dir;this._speed=20*-this.dir,this.node.x+=this._speed,this.MainCamera.x=this.node.x,(this.node.x<=-this.cameraBoundary||this.node.x>=this.cameraBoundary)&&(this.dir=-this.dir,this.enemy_ske.active=!0)},e.prototype.att_1=function(){this._speed=0,this.dbArmature.animation.fadeIn("att_1",-1,-1,0,this.ANI_GROUP)},e.prototype.att_2=function(){this._speed=0,this.dbArmature.animation.fadeIn("idle",-1,-1,0,this.ANI_GROUP)},e.prototype.dodge=function(t){this.dbArmature.animation.fadeIn("avoid",-1,-1,0,this.ANI_GROUP)},e.prototype.aniComplete=function(t){this.attCount=this.attCount<3?this.attCount+1:0;var e=this.ATTANILIST[this.attCount];console.log(e),this.dbArmature.animation.fadeIn(e,-1,-1,0,this.ANI_GROUP)},e.prototype.frameEvent=function(t){console.log("frameEvent"),"attack"==t.name&&console.log("attack \u654c\u4eba")},r([s(cc.Node)],e.prototype,"MainCamera",void 0),r([s(cc.Node)],e.prototype,"enemy_ske",void 0),e=r([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],enemyCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"185e9ERfb9HKYpgzCm6NFv7","enemyCtrl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./dbCtrl"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyNode=null,e.heroNode=null,e.ANI_GROUP="att",e.ATTANILIST=["att_1","att_2","att_3"],e.SKINLIST=["p_fist"],e.attCount=0,e.heroSpeed=0,e.iscollision=!1,e}return n(e,t),e.prototype.start=function(){this.heroNodeComp=this.heroNode.getComponent(i.default),this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0,this.collisionManager.enabledDebugDraw=!0,this.dbDisplay=this.enemyNode.getComponent(dragonBones.ArmatureDisplay),this.dbArmature=this.dbDisplay.armature(),this.dbDisplay.on(dragonBones.EventObject.COMPLETE,this.aniComplete,this),this.dbDisplay.on(dragonBones.EventObject.FRAME_EVENT,this.frameEvent,this)},e.prototype.aniComplete=function(t){this.attCount=this.attCount<2?this.attCount+1:0;var e=this.ATTANILIST[this.attCount];console.log(e),this.dbArmature.animation.fadeIn(e,-1,-1,0,this.ANI_GROUP)},e.prototype.frameEvent=function(t){},e.prototype.onCollisionEnter=function(t,e){console.log("on Collision Enter"),this.heroSpeed=this.heroNode.getComponent(i.default)._speed,this.heroNode.getComponent(i.default)._speed=0,this.heroNode.getComponent(i.default).att_1(),this.dbArmature.animation.fadeIn("avoid",-1,-1,0,this.ANI_GROUP),this.iscollision=!0},e.prototype.onCollisionExit=function(t,e){console.log("onCollisionExit")},e.prototype.update=function(){var t=this;this.iscollision&&(this.scheduleOnce(function(){t.dbArmature.animation.fadeIn("die",-1,-1,0,t.ANI_GROUP),t.enemyNode.getComponent(cc.BoxCollider).enabled=!1,t.heroNode.getComponent(i.default).move(),t.enemyNode.active=!1},3),this.iscollision=!1)},r([c(cc.Node)],e.prototype,"enemyNode",void 0),r([c(cc.Node)],e.prototype,"heroNode",void 0),e=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./dbCtrl":"dbCtrl"}]},{},["NewScript","dbCtrl","enemyCtrl"]);