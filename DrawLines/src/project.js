System.register("chunks:///prerequisite-imports:main.js",["cc"],(function(e,t){var i,n,o,r,s,a,l,h,u,c,p,d,y,_,g,m,f,v,b,w,M,E,S,O,L,C,P,z,$,k,R,U,T,x,D,j,H,W,F,N,V,Y,B,A,I,X,K,q,J,Z,Q,G,ee,te,ie,ne,oe,re,se,ae,le,he,ue,ce,pe,de,ye,_e,ge,me,fe,ve,be,we,Me,Ee,Se,Oe,Le,Ce,Pe,ze,$e,ke,Re,Ue,Te,xe,De,je,He,We,Fe,Ne,Ve,Ye,Be,Ae,Ie,Xe,Ke,qe,Je,Ze,Qe,Ge,et,tt,it,nt,ot,rt,st,at,lt,ht,ut,ct,pt,dt,yt,_t,gt,mt,ft,vt,bt,wt,Mt,Et,St,Ot,Lt,Ct,Pt,zt,$t,kt,Rt,Ut,Tt,xt,Dt,jt,Ht,Wt,Ft,Nt,Vt,Yt,Bt,At,It,Xt,Kt,qt,Jt,Zt,Qt,Gt,ei,ti,ii;function ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ri(e,t,i){return t&&oi(e.prototype,t),i&&oi(e,i),e}function si(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?hi(e):t}function ci(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function pi(e,t,i,n,o){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0,_dec$1:void 0,_dec2$1:void 0,_dec3$1:void 0,_dec4$1:void 0,_dec5:void 0,_class$1:void 0,_class2$1:void 0,_descriptor$1:void 0,_descriptor2$1:void 0,_descriptor3$1:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_temp$1:void 0,_dec$2:void 0,_dec2$2:void 0,_dec3$2:void 0,_dec4$2:void 0,_dec5$1:void 0,_class$2:void 0,_class2$2:void 0,_descriptor$2:void 0,_descriptor2$2:void 0,_descriptor3$2:void 0,_descriptor4$1:void 0,_descriptor5$1:void 0,_descriptor6$1:void 0,_temp$2:void 0,_dec$3:void 0,_dec2$3:void 0,_class$3:void 0,_class2$3:void 0,_descriptor$3:void 0,_descriptor2$3:void 0,_temp$3:void 0,_dec$4:void 0,_dec2$4:void 0,_dec3$3:void 0,_dec4$3:void 0,_class$4:void 0,_class2$4:void 0,_descriptor$4:void 0,_descriptor2$4:void 0,_descriptor3$3:void 0,_descriptor4$2:void 0,_descriptor5$2:void 0,_descriptor6$2:void 0,_temp$4:void 0,_dec$5:void 0,_dec2$5:void 0,_class$5:void 0,_class2$5:void 0,_descriptor$5:void 0,_descriptor2$5:void 0,_temp$5:void 0,_dec$6:void 0,_dec2$6:void 0,_dec3$4:void 0,_dec4$4:void 0,_dec5$2:void 0,_class$6:void 0,_class2$6:void 0,_descriptor$6:void 0,_descriptor2$6:void 0,_descriptor3$4:void 0,_descriptor4$3:void 0,_descriptor5$3:void 0,_temp$6:void 0,_dec$7:void 0,_dec2$7:void 0,_dec3$5:void 0,_class$7:void 0,_class2$7:void 0,_descriptor$7:void 0,_descriptor2$7:void 0,_temp$7:void 0,_dec$8:void 0,_dec2$8:void 0,_dec3$6:void 0,_dec4$5:void 0,_dec5$3:void 0,_dec6:void 0,_class$8:void 0,_class2$8:void 0,_descriptor$8:void 0,_descriptor2$8:void 0,_descriptor3$5:void 0,_descriptor4$4:void 0,_descriptor5$4:void 0,_temp$8:void 0,_dec$9:void 0,_dec2$9:void 0,_dec3$7:void 0,_dec4$6:void 0,_dec5$4:void 0,_dec6$1:void 0,_class$9:void 0,_class2$9:void 0,_descriptor$9:void 0,_descriptor2$9:void 0,_descriptor3$6:void 0,_descriptor4$5:void 0,_descriptor5$5:void 0,_temp$9:void 0,_dec$a:void 0,_dec2$a:void 0,_dec3$8:void 0,_dec4$7:void 0,_dec5$5:void 0,_class$a:void 0,_class2$a:void 0,_descriptor$a:void 0,_descriptor2$a:void 0,_descriptor3$7:void 0,_descriptor4$6:void 0,_temp$a:void 0}),{setters:[function(e){i=e.cclegacy,n=e._decorator,o=e.Prefab,r=e.Vec3,s=e.instantiate,a=e.ModelComponent,l=e.primitives,h=e.utils,u=e.Component,c=e.CCInteger,p=e.CCFloat,d=e.Node,y=e.systemEvent,_=e.SystemEvent,g=e.math,m=e.CameraComponent,f=e.geometry,v=e.SystemEventType,b=e.PhysicsSystem}],execute:function(){i._RF.push({},"6851ftjCC9G2JuBoHfFHAeo","Draw_Lines",void 0),$=n.ccclass,k=n.property,w=$("DrawLines"),M=k({type:o}),E=k({type:o}),S=k({type:o}),w((C=pi((L=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"Line_inst",C,hi(i)),ci(i,"Line_Start",P,hi(i)),ci(i,"Line_End",z,hi(i)),i._segments=new r(1,1,1),i._size=new r(1,1,1),i}return si(t,e),ri(t,[{key:"start",value:function(){this.draw(new r(0,0,0),new r(4,1,0)),this.draw(new r(0,0,0),new r(2,1,0)),this.draw(new r(0,0,0),new r(8,-1,0))}},{key:"draw",value:function(e,t){var i=cc.director.getScene(),n=s(this.Line_End),o=s(this.Line_Start);n.parent=i,o.parent=i,n.position=t,o.position=e;var u=s(this.Line_inst);u.parent=i;var c=u.getComponent(a),p=t.x-e.x,d=t.y-e.y,y=Math.atan2(d,p)*(180/Math.PI);console.log("角度："+y),u.setRotationFromEuler(0,0,y);var _=(t.x-e.x)/2,g=(t.y-e.y)/2,m=(t.z-e.z)/2;console.log(_,g,m),u.position=new r(_,g,m);var f=Math.sqrt(Math.pow(2*_,2)+Math.pow(2*g,2)+Math.pow(2*m,2));console.log("--size:"+f);var v=l.box({width:f,height:this._size.y,length:this._size.z,widthSegments:Math.round(this._segments.x),heightSegments:Math.round(this._segments.y),lengthSegments:Math.round(this._segments.z)}),b=h.createMesh(v);c.mesh&&c.mesh.destroy(),c.mesh=b}}]),t}(u)).prototype,"Line_inst",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=pi(L.prototype,"Line_Start",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=pi(L.prototype,"Line_End",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=L))||O,i._RF.pop(),i._RF.push({},"4c073UfPrNEUrR1HYQKf0sb","EditableCapsule",void 0),I=n.ccclass,X=n.property,K=n.executeInEditMode,R=I("EditableCapsule"),U=X({type:c,step:1}),T=X({type:c,step:1}),x=X({type:p}),D=X({type:p,range:[0,1],slide:!0,step:.1}),R(j=K((W=pi((H=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_radiusTop",W,hi(i)),ci(i,"_radiusBottom",F,hi(i)),ci(i,"_height",N,hi(i)),ci(i,"_sides",V,hi(i)),ci(i,"_heightSegments",Y,hi(i)),ci(i,"_fillRange",B,hi(i)),ci(i,"_capped",A,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.capsule(this._radiusTop,this._radiusBottom,this._height,{sides:this._sides,heightSegments:this._heightSegments,capped:this._capped,arc:2*this._fillRange*Math.PI}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"radiusTop",get:function(){return this._radiusTop},set:function(e){this._radiusTop=e,this.rebuildModel()}},{key:"radiusBottom",get:function(){return this._radiusBottom},set:function(e){this._radiusBottom=e,this.rebuildModel()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.rebuildModel()}},{key:"sides",get:function(){return this._sides},set:function(e){this._sides=e,this.rebuildModel()}},{key:"heightSegments",get:function(){return this._heightSegments},set:function(e){this._heightSegments=e,this.rebuildModel()}},{key:"fillRange",get:function(){return this._fillRange},set:function(e){this._fillRange=e,this.rebuildModel()}},{key:"capped",get:function(){return this._capped},set:function(e){this._capped=e,this.rebuildModel()}}]),t}(u)).prototype,"_radiusTop",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),pi(H.prototype,"radiusTop",[X],Object.getOwnPropertyDescriptor(H.prototype,"radiusTop"),H.prototype),F=pi(H.prototype,"_radiusBottom",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),pi(H.prototype,"radiusBottom",[X],Object.getOwnPropertyDescriptor(H.prototype,"radiusBottom"),H.prototype),N=pi(H.prototype,"_height",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),pi(H.prototype,"height",[X],Object.getOwnPropertyDescriptor(H.prototype,"height"),H.prototype),V=pi(H.prototype,"_sides",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),pi(H.prototype,"sides",[U],Object.getOwnPropertyDescriptor(H.prototype,"sides"),H.prototype),Y=pi(H.prototype,"_heightSegments",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),pi(H.prototype,"heightSegments",[T],Object.getOwnPropertyDescriptor(H.prototype,"heightSegments"),H.prototype),B=pi(H.prototype,"_fillRange",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(H.prototype,"fillRange",[D],Object.getOwnPropertyDescriptor(H.prototype,"fillRange"),H.prototype),A=pi(H.prototype,"_capped",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi(H.prototype,"capped",[X],Object.getOwnPropertyDescriptor(H.prototype,"capped"),H.prototype),j=H))||j)||j,i._RF.pop(),i._RF.push({},"a7cb0/t2ppOyp3sd0+NdGtP","EditableCone",void 0),le=n.ccclass,he=n.property,ue=n.executeInEditMode,q=le("EditableCone"),J=he({type:c,step:1}),Z=he({type:c,step:1}),Q=he({type:p}),G=he({type:p,range:[0,1],slide:!0,step:.1}),q(ee=ue((ie=pi((te=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_radius",ie,hi(i)),ci(i,"_height",ne,hi(i)),ci(i,"_radialSegments",oe,hi(i)),ci(i,"_heightSegments",re,hi(i)),ci(i,"_fillRange",se,hi(i)),ci(i,"_capped",ae,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.cone(this._radius,this._height,{radialSegments:Math.round(this.radialSegments),heightSegments:Math.round(this.heightSegments),capped:this._capped,arc:2*this._fillRange*Math.PI}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e,this.rebuildModel()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.rebuildModel()}},{key:"radialSegments",get:function(){return this._radialSegments},set:function(e){this._radialSegments=e,this.rebuildModel()}},{key:"heightSegments",get:function(){return this._heightSegments},set:function(e){this._heightSegments=e,this.rebuildModel()}},{key:"fillRange",get:function(){return this._fillRange},set:function(e){this._fillRange=e,this.rebuildModel()}},{key:"capped",get:function(){return this._capped},set:function(e){this._capped=e,this.rebuildModel()}}]),t}(u)).prototype,"_radius",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),pi(te.prototype,"radius",[he],Object.getOwnPropertyDescriptor(te.prototype,"radius"),te.prototype),ne=pi(te.prototype,"_height",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(te.prototype,"height",[he],Object.getOwnPropertyDescriptor(te.prototype,"height"),te.prototype),oe=pi(te.prototype,"_radialSegments",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),pi(te.prototype,"radialSegments",[J],Object.getOwnPropertyDescriptor(te.prototype,"radialSegments"),te.prototype),re=pi(te.prototype,"_heightSegments",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),pi(te.prototype,"heightSegments",[Z],Object.getOwnPropertyDescriptor(te.prototype,"heightSegments"),te.prototype),se=pi(te.prototype,"_fillRange",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(te.prototype,"fillRange",[G],Object.getOwnPropertyDescriptor(te.prototype,"fillRange"),te.prototype),ae=pi(te.prototype,"_capped",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi(te.prototype,"capped",[he],Object.getOwnPropertyDescriptor(te.prototype,"capped"),te.prototype),ee=te))||ee)||ee,i._RF.pop(),i._RF.push({},"461b3Yc1zZN06l8TW57ul6D","EditableCube",void 0),me=n.ccclass,fe=n.property,ve=n.executeInEditMode,ce=me("EditableCube"),pe=fe({step:1}),ce(de=ve((_e=pi((ye=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_size",_e,hi(i)),ci(i,"_segments",ge,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.box({width:this._size.x,height:this._size.y,length:this._size.z,widthSegments:Math.round(this._segments.x),heightSegments:Math.round(this._segments.y),lengthSegments:Math.round(this._segments.z)}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"size",get:function(){return this._size},set:function(e){this._size=e,this.rebuildModel()}},{key:"segments",get:function(){return this._segments},set:function(e){this._segments=e,this.rebuildModel()}}]),t}(u)).prototype,"_size",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(1,1,1)}}),pi(ye.prototype,"size",[fe],Object.getOwnPropertyDescriptor(ye.prototype,"size"),ye.prototype),ge=pi(ye.prototype,"_segments",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(1,1,1)}}),pi(ye.prototype,"segments",[pe],Object.getOwnPropertyDescriptor(ye.prototype,"segments"),ye.prototype),de=ye))||de)||de,i._RF.pop(),i._RF.push({},"3c2b06JF+9ONY5Rl/MCyDa3","EditableCylinder",void 0),Re=n.ccclass,Ue=n.property,Te=n.executeInEditMode,be=Re("EditableCylinder"),we=Ue({type:c,step:1}),Me=Ue({type:p}),Ee=Ue({type:p,range:[0,1],slide:!0,step:.1}),be(Se=Te((Le=pi((Oe=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_radiusTop",Le,hi(i)),ci(i,"_radiusBottom",Ce,hi(i)),ci(i,"_height",Pe,hi(i)),ci(i,"_heightSegments",ze,hi(i)),ci(i,"_fillRange",$e,hi(i)),ci(i,"_capped",ke,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.cylinder(this._radiusTop,this._radiusBottom,this._height,{heightSegments:this._heightSegments,capped:this._capped,arc:2*this._fillRange*Math.PI}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"radiusTop",get:function(){return this._radiusTop},set:function(e){this._radiusTop=e,this.rebuildModel()}},{key:"radiusBottom",get:function(){return this._radiusBottom},set:function(e){this._radiusBottom=e,this.rebuildModel()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.rebuildModel()}},{key:"heightSegments",get:function(){return this._heightSegments},set:function(e){this._heightSegments=e,this.rebuildModel()}},{key:"fillRange",get:function(){return this._fillRange},set:function(e){this._fillRange=e,this.rebuildModel()}},{key:"capped",get:function(){return this._capped},set:function(e){this._capped=e,this.rebuildModel()}}]),t}(u)).prototype,"_radiusTop",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(Oe.prototype,"radiusTop",[Ue],Object.getOwnPropertyDescriptor(Oe.prototype,"radiusTop"),Oe.prototype),Ce=pi(Oe.prototype,"_radiusBottom",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(Oe.prototype,"radiusBottom",[Ue],Object.getOwnPropertyDescriptor(Oe.prototype,"radiusBottom"),Oe.prototype),Pe=pi(Oe.prototype,"_height",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),pi(Oe.prototype,"height",[Ue],Object.getOwnPropertyDescriptor(Oe.prototype,"height"),Oe.prototype),ze=pi(Oe.prototype,"_heightSegments",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(Oe.prototype,"heightSegments",[we],Object.getOwnPropertyDescriptor(Oe.prototype,"heightSegments"),Oe.prototype),$e=pi(Oe.prototype,"_fillRange",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(Oe.prototype,"fillRange",[Ee],Object.getOwnPropertyDescriptor(Oe.prototype,"fillRange"),Oe.prototype),ke=pi(Oe.prototype,"_capped",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi(Oe.prototype,"capped",[Ue],Object.getOwnPropertyDescriptor(Oe.prototype,"capped"),Oe.prototype),Se=Oe))||Se)||Se,i._RF.pop(),i._RF.push({},"5990bs+bwtK97DLcTd7ptI7","EditableSphere",void 0),Ne=n.ccclass,Ve=n.property,Ye=n.executeInEditMode,xe=Ne("EditableSphere"),De=Ve({type:c,step:1}),xe(je=Ye((We=pi((He=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_radius",We,hi(i)),ci(i,"_segments",Fe,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.sphere(this._radius,{segments:this._segments}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e,this.rebuildModel()}},{key:"segments",get:function(){return this._segments},set:function(e){this._segments=e,this.rebuildModel()}}]),t}(u)).prototype,"_radius",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),pi(He.prototype,"radius",[Ve],Object.getOwnPropertyDescriptor(He.prototype,"radius"),He.prototype),Fe=pi(He.prototype,"_segments",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),pi(He.prototype,"segments",[De],Object.getOwnPropertyDescriptor(He.prototype,"segments"),He.prototype),je=He))||je)||je,i._RF.pop(),i._RF.push({},"da73a/FbehMI4XV35+KkKUN","EditableTorus",void 0),it=n.ccclass,nt=n.property,ot=n.executeInEditMode,Be=it("EditableTorus"),Ae=nt({type:c,step:1}),Ie=nt({type:c,step:1}),Xe=nt({type:p}),Ke=nt({type:p,range:[0,1],slide:!0,step:.1}),Be(qe=ot((Ze=pi((Je=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"_radius",Ze,hi(i)),ci(i,"_tubular",Qe,hi(i)),ci(i,"_radiusSegments",Ge,hi(i)),ci(i,"_tubularSegments",et,hi(i)),ci(i,"_fillRange",tt,hi(i)),i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.model=this.getComponent(a),null==this.model&&(this.model=this.addComponent(a)),this.rebuildModel()}},{key:"rebuildModel",value:function(){var e=l.torus(this._radius,this._tubular,{radialSegments:this._radiusSegments,tubularSegments:this._tubularSegments,arc:2*this._fillRange*Math.PI}),t=h.createMesh(e);this.model.mesh&&this.model.mesh.destroy(),this.model.mesh=t}},{key:"onDestroy",value:function(){this.model.mesh&&(this.model.mesh.destroy(),this.model.mesh=null)}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e,this.rebuildModel()}},{key:"tubular",get:function(){return this._tubular},set:function(e){this._tubular=e,this.rebuildModel()}},{key:"radiusSegments",get:function(){return this._radiusSegments},set:function(e){this._radiusSegments=e,this.rebuildModel()}},{key:"tubularSegments",get:function(){return this._tubularSegments},set:function(e){this._tubularSegments=e,this.rebuildModel()}},{key:"fillRange",get:function(){return this._fillRange},set:function(e){this._fillRange=e,this.rebuildModel()}}]),t}(u)).prototype,"_radius",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),pi(Je.prototype,"radius",[nt],Object.getOwnPropertyDescriptor(Je.prototype,"radius"),Je.prototype),Qe=pi(Je.prototype,"_tubular",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),pi(Je.prototype,"tubular",[nt],Object.getOwnPropertyDescriptor(Je.prototype,"tubular"),Je.prototype),Ge=pi(Je.prototype,"_radiusSegments",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),pi(Je.prototype,"radiusSegments",[Ae],Object.getOwnPropertyDescriptor(Je.prototype,"radiusSegments"),Je.prototype),et=pi(Je.prototype,"_tubularSegments",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),pi(Je.prototype,"tubularSegments",[Ie],Object.getOwnPropertyDescriptor(Je.prototype,"tubularSegments"),Je.prototype),tt=pi(Je.prototype,"_fillRange",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pi(Je.prototype,"fillRange",[Ke],Object.getOwnPropertyDescriptor(Je.prototype,"fillRange"),Je.prototype),qe=Je))||qe)||qe,i._RF.pop(),i._RF.push({},"81513h04I1MqZxrgWfZV3kW","MainCarmCtrl",void 0),pt=n.ccclass,dt=n.property,rt=pt("MainCarmCtrl"),st=dt(d),at=dt(d),rt((ut=pi((ht=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"MainCamera",ut,hi(i)),ci(i,"CanvasNode",ct,hi(i)),i.sensitivityMouse=.1,i.sensitivetyKeyBoard=.1,i.sensitivetyMouseWheel=10,i.offset1=new r(.5,0,0),i.offset2=new r(0,.5,0),i.offset3=new r(0,0,.5),i.sensitivityX=.1,i.sensitivityY=.1,i.minimumY=-60,i.maximumY=60,i.rotationY=0,i._euler=new r(0,0,0),i.isctrl=!1,i.M_WHEEL_Number=100,i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.PreMouseMPos=new r(0,0,0)}},{key:"start",value:function(){y.on(_.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),y.on(_.EventType.MOUSE_DOWN,this.onMOUSE_DOWN,this),y.on(_.EventType.MOUSE_UP,this.onMOUSE_UP,this),y.on(_.EventType.MOUSE_MOVE,this.onMouseMove,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyDownEvent,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyUpEvent,this);for(var e=this.CanvasNode.getComponentsInChildren(cc.SpriteComponent),t=0;t<e.length;t++);this.CanvasNode.on(cc.Node.EventType.TOUCH_MOVE,this.onMOUSE_RightTOUCH_MOVE,this)}},{key:"onDisable",value:function(){this.CanvasNode.off(cc.Node.EventType.TOUCH_MOVE,this.onMOUSE_RightTOUCH_MOVE,this)}},{key:"lateUpdate",value:function(e){this.CameraMove(),this.isctrl?this.M_WHEEL_Number=10:this.M_WHEEL_Number=100}},{key:"keyDownEvent",value:function(e){switch(e.keyCode){case cc.macro.KEY.ctrl:this.isctrl=!0}}},{key:"keyUpEvent",value:function(e){switch(e.keyCode){case cc.macro.KEY.ctrl:this.isctrl=!1}}},{key:"onMOUSE_WHEEL",value:function(e){0!=e.getScrollY()?this.node.translate(new r(0,0,-e.getScrollY()/this.M_WHEEL_Number)):0!=e.getScrollX()&&this.node.translate(new r(0,0,-e.getScrollX()/this.M_WHEEL_Number))}},{key:"onMOUSE_DOWN",value:function(e){1===e.getButton()&&(this.MOUSE_WHEELLocationX=e.getLocationX(),this.MOUSE_WHEELLocationY=e.getLocationY(),this.isMOUSE_WHEEL=!0),2===e.getButton()&&(this.MOUSE_WHEELLocationX=e.getLocationX(),this.MOUSE_WHEELLocationY=e.getLocationY(),this.isMOUSE_Right=!0),0===e.getButton()&&(this.MOUSE_WHEELLocationX=e.getLocationX(),this.MOUSE_WHEELLocationY=e.getLocationY(),this.isMOUSE_Left=!0)}},{key:"onMOUSE_UP",value:function(e){1===e.getButton()&&(this.isMOUSE_WHEEL=!1),2===e.getButton()&&(this.isMOUSE_Right=!1),0===e.getButton()&&(this.isMOUSE_Left=!1)}},{key:"onMouseMove",value:function(e){(this.isMOUSE_WHEEL||this.isMOUSE_Right||this.isMOUSE_Left)&&(0==e.movementX&&0==e.movementY||(this.MOUSE_WHEELLocationX=e.getLocationX(),this.MOUSE_WHEELLocationY=e.getLocationY(),this.MOUSE_movementX=e.movementX,this.MOUSE_movementY=e.movementY))}},{key:"CanvasNode_MOUSE_MOVE",value:function(){this.isMOUSE_Left=!1}},{key:"CanvasNode_MOUSE_ENTER",value:function(){this.isMOUSE_Left=!1}},{key:"CanvasNode_MOUSE_LEAVE",value:function(){this.isMOUSE_Left=!1}},{key:"CameraMove",value:function(){if(this.isMOUSE_Left)if(this.PreMouseMPos.x<=0)this.PreMouseMPos=new r(this.MOUSE_WHEELLocationX,this.MOUSE_WHEELLocationY,0);else{var e=new r(this.MOUSE_WHEELLocationX,this.MOUSE_WHEELLocationY,0),t=new r(e.x-this.PreMouseMPos.x,e.y-this.PreMouseMPos.y,e.z-this.PreMouseMPos.z);t=new r(.1*-t.x,.1*-t.y,0),this.node.translate(t),this.PreMouseMPos=e}else this.PreMouseMPos=new r(0,0,0)}},{key:"onMOUSE_RightTOUCH_MOVE",value:function(e){if(this.isMOUSE_Right){var t=new r(0,0,0);this.MainCamera.getWorldRotation().getEulerAngles(t),this._euler.x=t.x,this._euler.y=t.y;var i=-e.getDeltaX()*(Math.PI/180)*3,n=e.getDeltaY()*(Math.PI/180)*3;this._euler.x+=n,this._euler.y+=i,this._euler.z=t.z,this.MainCamera.setRotationFromEuler(this._euler.x,this._euler.y,this._euler.z)}}},{key:"_getDirection",value:function(e,t,i){var n=new r(e,t,i);return g.Vec3.transformQuat(n,n,this.node.getRotation()),n}},{key:"btnOnClickEvent",value:function(){console.log("dddd")}}]),t}(u)).prototype,"MainCamera",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=pi(ht.prototype,"CanvasNode",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=ht))||lt,i._RF.pop(),i._RF.push({},"189e7TZhm5IJojse5Pjj2hU","RayDraw_Lines",void 0),Ct=n.ccclass,Pt=n.property,yt=Ct("RayDrawLines"),_t=Pt({type:o}),gt=Pt({type:o}),mt=Pt({type:o}),ft=Pt({type:m}),vt=Pt({type:a}),yt((Mt=pi((wt=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"Line_inst",Mt,hi(i)),ci(i,"Line_Start",Et,hi(i)),ci(i,"Line_End",St,hi(i)),i._segments=new r(1,1,1),i._size=new r(1,1,1),ci(i,"cameraCom",Ot,hi(i)),ci(i,"modelCom",Lt,hi(i)),i._ray=new f.ray,i.V1=!1,i.orin=new r(1,1,1),i.end=new r(1,1,1),i}return si(t,e),ri(t,[{key:"start",value:function(){this.LinePointContainer=new Array,y.on(v.TOUCH_START,this.onTouchStart,this)}},{key:"onDisable",value:function(){y.off(v.TOUCH_START,this.onTouchStart,this)}},{key:"onTouchStart",value:function(e,t){var i=e.getLocation();if(this.cameraCom.screenPointToRay(i.x,i.y,this._ray),!this.V1&&b.instance.raycast(this._ray)){var n=b.instance.raycastResults;this.orin=new r(n[0].hitPoint.x,n[0].hitPoint.y,n[0].hitPoint.z),this.V1=!0,this.LinePointContainer.push(this.orin);var o=cc.director.getScene(),a=s(this.Line_Start);a.parent=o,a.position=this.orin}if(this.V1&&b.instance.raycast(this._ray)){var l=b.instance.raycastResults;this.end=new r(l[0].hitPoint.x,l[0].hitPoint.y,l[0].hitPoint.z),this.LinePointContainer.push(this.end),this.draw(this.LinePointContainer[this.LinePointContainer.length-2],this.LinePointContainer[this.LinePointContainer.length-1])}}},{key:"draw",value:function(e,t){var i=cc.director.getScene(),n=s(this.Line_End);n.parent=i,n.position=t;var o=s(this.Line_inst);o.parent=i;var u=o.getComponent(a),c=t.x-e.x,p=t.y-e.y,d=Math.atan2(p,c)*(180/Math.PI);console.log("角度："+d),o.setRotationFromEuler(0,0,d);var y=(t.x+e.x)/2,_=(t.y+e.y)/2,g=(t.z+e.z)/2;console.log(y,_,g),o.position=new r(y,_,g);var m=(t.x-e.x)/2,f=(t.y-e.y)/2,v=(t.z-e.z)/2,b=Math.sqrt(Math.pow(2*m,2)+Math.pow(2*f,2)+Math.pow(2*v,2));console.log("--size:"+b);var w=l.box({width:b,height:this._size.y,length:this._size.z,widthSegments:Math.round(this._segments.x),heightSegments:Math.round(this._segments.y),lengthSegments:Math.round(this._segments.z)}),M=h.createMesh(w);u.mesh&&u.mesh.destroy(),u.mesh=M}}]),t}(u)).prototype,"Line_inst",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=pi(wt.prototype,"Line_Start",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=pi(wt.prototype,"Line_End",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=pi(wt.prototype,"cameraCom",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=pi(wt.prototype,"modelCom",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=wt))||bt,i._RF.pop(),i._RF.push({},"168ebsfV1JJ+r0B99hHgXea","RayDraw_MeshModel",void 0),Vt=n.ccclass,Yt=n.property,zt=Vt("RayDrawMeshModel"),$t=Yt(d),kt=Yt({type:o}),Rt=Yt({type:o}),Ut=Yt({type:o}),Tt=Yt({type:m}),zt((jt=pi((Dt=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"CanvasNode",jt,hi(i)),ci(i,"Line_inst",Ht,hi(i)),ci(i,"Line_Start",Wt,hi(i)),ci(i,"Line_End",Ft,hi(i)),i._segments=new r(1,1,1),i._size=new r(1,1,1),ci(i,"cameraCom",Nt,hi(i)),i._ray=new f.ray,i.V1=!1,i.orin=new r(1,1,1),i.end=new r(1,1,1),i._modelComs=[],i}return si(t,e),ri(t,[{key:"onLoad",value:function(){this.LinePointContainer=new Array,this._modelComs=this.node.getComponentsInChildren(a),this.CanvasNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)}},{key:"onDisable",value:function(){}},{key:"onTouchStart",value:function(e,t){var i=e.getLocation();this.cameraCom.screenPointToRay(i.x,i.y,this._ray);b.instance.raycastResults;for(var n=0;n<this._modelComs.length;n++)if(this._modelComs[n].node.active){var o=this._modelComs[n].model,a={mode:f.ERaycastMode.CLOSEST,distance:1/0,result:[],subIndices:[],doubleSided:!1},l=f.intersect.ray_model(this._ray,o,a);if(l){console.log(o.node.name,l);var h=a.result,u=new r;if(this._ray.computeHit(u,h[0].distance),!this.V1){this.V1=!0,this.orin=u,this.LinePointContainer.push(this.orin);var c=cc.director.getScene(),p=s(this.Line_Start);p.parent=c,p.position=this.orin}this.V1&&(this.end=u,console.log("起点："+this.end),this.LinePointContainer.push(this.end),this.draw(this.LinePointContainer[this.LinePointContainer.length-2],this.LinePointContainer[this.LinePointContainer.length-1]))}}if(!this.V1&&b.instance.raycast(this._ray)){var d=b.instance.raycastResults;this.orin=new r(d[0].hitPoint.x,d[0].hitPoint.y,d[0].hitPoint.z),this.V1=!0,console.log("起点："+this.orin),this.LinePointContainer.push(this.orin);c=cc.director.getScene();var y=s(this.Line_Start);y.parent=c,y.position=this.orin}if(this.V1&&b.instance.raycast(this._ray)){var _=b.instance.raycastResults;this.end=new r(_[0].hitPoint.x,_[0].hitPoint.y,_[0].hitPoint.z),console.log("起点："+this.end),this.LinePointContainer.push(this.end),this.draw(this.LinePointContainer[this.LinePointContainer.length-2],this.LinePointContainer[this.LinePointContainer.length-1])}}},{key:"draw",value:function(e,t){var i=cc.director.getScene(),n=s(this.Line_End);n.parent=i,n.position=t;var o=s(this.Line_inst);o.parent=i;var u=o.getComponent(a),c=(t.x+e.x)/2,p=(t.y+e.y)/2,d=(t.z+e.z)/2;console.log(c,p,d),o.position=new r(c,p,d),o.lookAt(t),console.log(o.eulerAngles);var y=(t.x-e.x)/2,_=(t.y-e.y)/2,g=(t.z-e.z)/2,m=Math.sqrt(Math.pow(2*y,2)+Math.pow(2*_,2)+Math.pow(2*g,2));console.log("--size:"+m);var f=l.box({width:this._size.x,height:this._size.y,length:m,widthSegments:Math.round(this._segments.x),heightSegments:Math.round(this._segments.y),lengthSegments:Math.round(this._segments.z)}),v=h.createMesh(f);u.mesh&&u.mesh.destroy(),u.mesh=v}}]),t}(u)).prototype,"CanvasNode",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=pi(Dt.prototype,"Line_inst",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt=pi(Dt.prototype,"Line_Start",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=pi(Dt.prototype,"Line_End",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=pi(Dt.prototype,"cameraCom",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=Dt))||xt,i._RF.pop(),i._RF.push({},"ab9c8yZ0IlPQ5HxrLrYT0EF","RayDraw_SpaceLines",void 0),ti=n.ccclass,ii=n.property,Bt=ti("RayDrawSpaceLines"),At=ii({type:o}),It=ii({type:o}),Xt=ii({type:o}),Kt=ii({type:m}),Bt((Zt=pi((Jt=function(e){function t(){var e,i;ni(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return ci(i=ui(this,(e=ai(t)).call.apply(e,[this].concat(o))),"Line_inst",Zt,hi(i)),ci(i,"Line_Start",Qt,hi(i)),ci(i,"Line_End",Gt,hi(i)),i._segments=new r(1,1,1),i._size=new r(1,1,1),ci(i,"cameraCom",ei,hi(i)),i._ray=new f.ray,i.V1=!1,i.orin=new r(1,1,1),i.end=new r(1,1,1),i}return si(t,e),ri(t,[{key:"start",value:function(){this.LinePointContainer=new Array,y.on(v.TOUCH_MOVE,this.onTouchStart,this)}},{key:"onDisable",value:function(){y.off(v.TOUCH_MOVE,this.onTouchStart,this)}},{key:"onTouchStart",value:function(e,t){var i=e.getLocation();if(this.cameraCom.screenPointToRay(i.x,i.y,this._ray),!this.V1&&b.instance.raycast(this._ray)){var n=b.instance.raycastResults;this.orin=new r(n[0].hitPoint.x,n[0].hitPoint.y,n[0].hitPoint.z),this.V1=!0,console.log("起点："+this.orin),this.LinePointContainer.push(this.orin);var o=cc.director.getScene(),a=s(this.Line_Start);a.parent=o,a.position=this.orin}if(this.V1&&b.instance.raycast(this._ray)){var l=b.instance.raycastResults;this.end=new r(l[0].hitPoint.x,l[0].hitPoint.y,l[0].hitPoint.z),console.log("起点："+this.end),this.LinePointContainer.push(this.end),this.draw(this.LinePointContainer[this.LinePointContainer.length-2],this.LinePointContainer[this.LinePointContainer.length-1])}}},{key:"draw",value:function(e,t){var i=cc.director.getScene(),n=s(this.Line_End);n.parent=i,n.position=t;var o=s(this.Line_inst);o.parent=i;var u=o.getComponent(a),c=(t.x+e.x)/2,p=(t.y+e.y)/2,d=(t.z+e.z)/2;console.log(c,p,d),o.position=new r(c,p,d),o.lookAt(t),console.log(o.eulerAngles);var y=(t.x-e.x)/2,_=(t.y-e.y)/2,g=(t.z-e.z)/2,m=Math.sqrt(Math.pow(2*y,2)+Math.pow(2*_,2)+Math.pow(2*g,2));console.log("--size:"+m);var f=l.box({width:this._size.x,height:this._size.y,length:m,widthSegments:Math.round(this._segments.x),heightSegments:Math.round(this._segments.y),lengthSegments:Math.round(this._segments.z)}),v=h.createMesh(f);u.mesh&&u.mesh.destroy(),u.mesh=v}}]),t}(u)).prototype,"Line_inst",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=pi(Jt.prototype,"Line_Start",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=pi(Jt.prototype,"Line_End",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=pi(Jt.prototype,"cameraCom",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qt=Jt))||qt,i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports:main', 'chunks:///prerequisite-imports:main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});